<!DOCTYPE html>
<html lang="fr">
<style>
body {
 font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
 background: #f5f5f7;
 margin: 0;
 padding: 20px;
}

.container {
 max-width: 520px;
 margin: auto;
 background: #ffffff;
 padding: 24px;
 border-radius: 14px;
 box-shadow: 0 10px 25px rgba(0,0,0,0.08);
}

h1 {
 text-align: center;
 margin-top: 0;
}

h2 {
 margin-top: 24px;
 border-bottom: 1px solid #eee;
 padding-bottom: 6px;
}

label {
 display: block;
 margin-top: 14px;
 font-weight: 600;
}

input, select {
 width: 100%;
 padding: 10px;
 margin-top: 6px;
 border-radius: 8px;
 border: 1px solid #ccc;
 font-size: 16px;
}

button {
 width: 100%;
 margin-top: 24px;
 padding: 14px;
 font-size: 18px;
 font-weight: bold;
 background: #ff6a00;
 color: white;
 border: none;
 border-radius: 10px;
 cursor: pointer;
}

button:hover {
 background: #e85d00;
}

#resultat {
 margin-top: 20px;
 background: #fafafa;
 padding: 14px;
 border-radius: 10px;
 font-size: 15px;
}

hr {
 border: none;
 border-top: 1px solid #eee;
 margin: 24px 0;
}
</style><head>
 <meta charset="UTF-8">
 <title>Pizza App ‚Äì Dimitri</title>
</head>
</div><body><div class="container">

<h1>üçï Pizza App ‚Äì Dimitri</h1>

<h2>Farine</h2>
<select id="farine" onchange="mettreHydratation()">
 <option value="pizzeria">Caputo Pizzeria</option>
 <option value="cuoco">Caputo Cuoco</option>
 <option value="nuvola">Caputo Nuvola</option>
 <option value="supernuvola">Caputo Super Nuvola</option>
 <option value="denti">Caputo Denti di Leone</option>
 <option value="amena">Caputo Amena</option>
 <option value="verace">Caputo Verace</option>
 <option value="petra0102">Petra 0102 HP</option>
 <option value="petraintegrale">Petra Int√©grale</option>
</select>

<br><br>

<label>Hydratation (%) :</label>
<input type="number" id="hydratation" value="60" readonly>

<hr>

<h2>Fermentation</h2>

<label>Type :</label>
<select id="fermentation">
 <option value="ta">Temp√©rature ambiante</option>
 <option value="frigo">Frigo</option>
</select>

<br><br>

<label>Dur√©e (heures) :</label>
<input type="number" id="duree" value="24">

<hr>

<h2>Mode BIGA</h2>

<label>% farine en biga :</label>
<input type="range" id="bigaPct" min="0" max="100" value="50" oninput="updateBigaLabel()">
<div><strong>Biga :</strong> <span id="bigaLabel">50</span> %</div>
<label>Hydratation biga :</label>
<input type="number" value="45" readonly>

<hr>

<h2>P√¢te</h2>

<label>Nombre de pizzas :</label>
<input type="range" id="nb" min="1" max="20" value="4" oninput="updateNbLabel()">
<div><strong>Pizzas :</strong> <span id="nbLabel">4</span></div>
<br><br>

<label>Poids d‚Äôun p√¢ton (g) :</label>
<input type="range" id="poids" min="200" max="350" step="5" value="280" oninput="updatePoidsLabel()">
<div><strong>P√¢ton :</strong> <span id="poidsLabel">280</span> g</div>
<br><br>

<button onclick="calculer()">Calculer</button>

<h2>R√©sultat</h2>
<div id="resultat"></div><hr>
<h2>üìÑ Fiche protocole</h2>
<pre id="fiche" style="white-space: pre-wrap;"></pre>
<button onclick="copierFiche()">Copier la fiche</button>

<script>
const hydratations = {
 pizzeria: 60,
 cuoco: 63,
 nuvola: 68,
 supernuvola: 72,
 denti: 64,
 amena: 62,
 verace: 60,
 petra0102: 64,
 petraintegrale: 68
};

function mettreHydratation() {
 const f = document.getElementById("farine").value;
 document.getElementById("hydratation").value = hydratations[f];
}

function calculer() {
 const nb = Number(document.getElementById("nb").value);
 const poids = Number(document.getElementById("poids").value);
 const hydTotal = Number(document.getElementById("hydratation").value) / 100;
 const bigaPct = Number(document.getElementById("bigaPct").value) / 100;

 const typeFermentation = document.getElementById("fermentation").value;
 const duree = Number(document.getElementById("duree").value);

 const totalPate = nb * poids;

 const farineTotale = totalPate / (1 + hydTotal + 0.028);
 const eauTotale = farineTotale * hydTotal;

 const farineBiga = farineTotale * bigaPct;
 const eauBiga = farineBiga * 0.45;

 const farineFinition = farineTotale - farineBiga;
 const eauFinition = eauTotale - eauBiga;

 const sel = farineTotale * 0.028;

 let levureBase = typeFermentation === "ta" ? 0.002 : 0.0005;
 let levure = farineTotale * levureBase * (24 / duree);

 document.getElementById("resultat").innerHTML =
   "<strong>Fermentation :</strong> " + (typeFermentation === "ta" ? "TA" : "Frigo") + " ‚Äì " + duree + " h<br><br>" +
   "<strong>BIGA</strong><br>" +
   "Farine biga : " + farineBiga.toFixed(1) + " g<br>" +
   "Eau biga : " + eauBiga.toFixed(1) + " g<br><br>" +
   "<strong>FINITION</strong><br>" +
   "Farine finition : " + farineFinition.toFixed(1) + " g<br>" +
   "Eau finition : " + eauFinition.toFixed(1) + " g<br><br>" +
   "<strong>TOTAL</strong><br>" +
   "Farine : " + farineTotale.toFixed(1) + " g<br>" +
   "Eau : " + eauTotale.toFixed(1) + " g<br>" +
   "Sel : " + sel.toFixed(1) + " g<br>" +
   "Levure fra√Æche : " + levure.toFixed(2) + " g";
}
function updateBigaLabel() {
 document.getElementById("bigaLabel").textContent =
   document.getElementById("bigaPct").value;
}

function updateNbLabel() {
 document.getElementById("nbLabel").textContent =
   document.getElementById("nb").value;
}

function updatePoidsLabel() {
 document.getElementById("poidsLabel").textContent =
   document.getElementById("poids").value;function genererFiche(data) {
 const lignes = [];

 lignes.push("üçï PIZZA APP ‚Äì FICHE PROTOCOLE");
 lignes.push("-----------------------------");
 lignes.push("Farine : " + data.farineNom);
 lignes.push("Hydratation : " + data.hydratation + " %");
 lignes.push("");
 lignes.push("INGR√âDIENTS (TOTAL)");
 lignes.push("- Farine : " + data.farine.toFixed(1) + " g");
 lignes.push("- Eau : " + data.eau.toFixed(1) + " g");
 lignes.push("- Sel : " + data.sel.toFixed(1) + " g");
 lignes.push("- Levure fra√Æche : " + data.levure.toFixed(2) + " g");
 lignes.push("");

 if (data.bigaPct > 0) {
   lignes.push("BIGA (" + (data.bigaPct*100) + " %)");
   lignes.push("- Farine biga : " + data.farineBiga.toFixed(1) + " g");
   lignes.push("- Eau biga : " + data.eauBiga.toFixed(1) + " g");
   lignes.push("");
   lignes.push("FINITION");
   lignes.push("- Farine : " + data.farineFinition.toFixed(1) + " g");
   lignes.push("- Eau : " + data.eauFinition.toFixed(1) + " g");
   lignes.push("");
 }

 lignes.push("FERMENTATION");
 lignes.push("- Type : " + data.fermentationType);
 lignes.push("- Dur√©e : " + data.fermentationDuree + " h");

 document.getElementById("fiche").textContent = lignes.join("\n");
}

function copierFiche() {
 const texte = document.getElementById("fiche").textContent;
 navigator.clipboard.writeText(texte);
 alert("Fiche copi√©e üìã");
}
}</script>

</body>
</html>
